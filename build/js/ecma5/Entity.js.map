{"version":3,"sources":["js/Entity.js"],"names":[],"mappings":"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","file":"js/Entity.js","sourcesContent":["import $ from \"jquery\";\nimport jqueryEasing from \"jqueryEasing\";\nimport Engine from \"Engine\";\nimport \"css!/css/Entity.css\";\n\nvar transitionEnd = 'webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend'\nvar animationEnd = 'webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationend';\n\nclass Entity {\n\tstatic get types() {\n\t\treturn {\n\t\t\tTYPE1: \"TYPE1\", // A primary element, will be position fixed\n\t\t\tTYPE2: \"TYPE2\" // A secondar element, will be position relative\n\t\t}\n\t}\n\n\tconstructor(options) {\n\t\tthis.size = {\n\t\t\twidth: 30,\n\t\t\theight: 30\n\t\t};\n\t\tthis.jumps = 0;\n\t\tthis.entType = Entity.types.TYPE1;\n\t\tthis.tagName = \"div\";\n\t\tthis.bindEvents();\n\t\tthis.ground = 194.5;\n\t\tthis.gravity = Engine.instance.gravity;\n\t\tthis.velocityY = 0.0;\n\t\tthis.velocityX = 0.0;\n\t\tObject.assign(this, options);\n\t\tEngine.instance.addEntity(this);\n\t}\n\n\tonGoingDown(){\n\t\tthis.$el.removeClass('up');\n\t\tthis.$el.addClass('down');\n\t}\n\n\tonGoingUp(){\n\t\tthis.$el.removeClass('down');\n\t\tthis.$el.addClass('up');\n\t}\n\n\tonStill(){\n\t\tthis.$el.removeClass('up down');\n\t}\n\n\tupdate() {\n\n\t\t// let ground = 194.5;\n\t\t(this.velocityY !== 0) && (this.velocityY += this.gravity);\n\t\tthis.positionY = this.positionY + this.velocityY;\n\t\tthis.positionX = this.positionX + this.velocityX;\n\n\t\tif(this.positionY > this.ground){\n\t\t\tthis.positionY = this.ground;\n\t\t\tthis.velocityY = 0;\n\t\t}\n\n\t}\n\n\tjump() {\n\t\tthis.velocityY = -1;\n\t}\n\n\tset isStationaryY(value){\n\t\tthis._isStationaryY = value;\n\t\tif(this._isStationaryY){\n\t\t\tthis.velocityY = 0;\n\t\t}\n\t}\n\n\tset velocityY(value){\n\n\t\tconsole.log(this.size.width, value);\n\t\t// this.$el.width();\n\n\t\tthis._velocityY = value;\n\t}\n\n\tget velocityY(){\n\t\treturn this._velocityY;\n\t}\n\n\tget top(){\n\t\treturn this.$el.position().top;\n\t}\n\n\tget bottom(){\n\t\treturn this.positionY + this.height();\n\t}\n\n\tset positionX(value){\n\t\tthis.$el.css({left: this._positionX});\n\t}\n\n\tget positionX(){\n\t\treturn this.$el.position().left;\n\t}\n\n\tget positionY(){\n\t\treturn this.$el.position().top;\n\t}\n\n\tset positionY(value){\n\n\t\tif(value > this._positionY){\n\t\t\tthis.onGoingDown();\n\t\t}else if(value < this._positionY){\n\t\t\tthis.onGoingUp();\n\t\t}else{\n\t\t\tthis.onStill();\n\t\t}\n\n\t\tthis._positionY = value;\n\t\tthis.$el.css({top: this._positionY});\n\t}\n\n\tbindEvents() {\n\t\t$(document).on('keypress.' + this.constructor.name, event => {\n\t\t\tif (event.keyCode == 32) {\n\t\t\t\tthis.jumps++;\n\t\t\t\tthis.jump();\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\treturn this;\n\t}\n\n\tset type(value) {\n\t\tthis._entType = value;\n\t}\n\n\tset tagName(value) {\n\t\tthis._tagName = value;\n\t\tthis.el = document.createElement(this._tagName);\n\t\tthis.el.className = this.constructor.name + \" \" + this.entType;\n\t\tthis.$el = $(this.el).width(this.size.width).height(this.size.height);\n\t}\n}\n\nexport default Entity;"]}